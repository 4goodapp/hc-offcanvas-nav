/*
 * HC Off-canvas Nav
 * ===================
 * Version: 3.5.0
 * Author: Some Web Media
 * Author URL: https://github.com/somewebmedia/
 * Plugin URL: https://github.com/somewebmedia/hc-offcanvas-nav
 * Description: jQuery plugin for creating off-canvas multi-level navigations
 * License: MIT
 */
"use strict";function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}!function(V,n){var i,G=n.document,J=V(G.getElementsByTagName("html")[0]),R=V(G),X=(/iPad|iPhone|iPod/.test(navigator.userAgent)||!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))&&!n.MSStream,Y="ontouchstart"in n||navigator.maxTouchPoints||n.DocumentTouch&&G instanceof DocumentTouch,Z=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},nn=function(n){return n.stopPropagation()},en=function(e){return function(n){n.preventDefault(),n.stopPropagation(),"function"==typeof e&&e()}},an=function(n,e,a){var t=a.children(),o=t.length,i=-1<e?Math.max(0,Math.min(e-1,o)):Math.max(0,Math.min(o+e+1,o));0===i?a.prepend(n):t.eq(i-1).after(n)},tn=function(n){return-1!==["left","right"].indexOf(n)?"x":"y"},on=(i=function(n){var e=["Webkit","Moz","Ms","O"],a=(G.body||G.documentElement).style,t=n.charAt(0).toUpperCase()+n.slice(1);if(void 0!==a[n])return n;for(var o=0;o<e.length;o++)if(void 0!==a[e[o]+t])return e[o]+t;return!1}("transform"),function(n,e,a){if(i)if(0===e)n.css(i,"");else if("x"===tn(a)){var t="left"===a?e:-e;n.css(i,t?"translate3d(".concat(t,"px,0,0)"):"")}else{var o="top"===a?e:-e;n.css(i,o?"translate3d(0,".concat(o,"px,0)"):"")}else n.css(a,e)}),e=function(n,e,a){console.warn("%cHC Off-canvas Nav:%c "+a+"%c '"+n+"'%c is now deprecated and will be removed in the future. Use%c '"+e+"'%c option instead. See details about plugin usage at https://github.com/somewebmedia/hc-offcanvas-nav.","color: #fa253b","color: default","color: #5595c6","color: default","color: #5595c6","color: default")},cn=0;V.fn.extend({hcOffcanvasNav:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.length)return this;var I=this,L=V(G.body);void 0!==n.maxWidth&&(e("maxWidth","disableAt","option"),n.disableAt=n.maxWidth);var Q=V.extend({},{disableAt:!1,pushContent:!1,expanded:!1,position:"left",levelOpen:"overlap",levelSpacing:40,levelTitles:!0,navTitle:null,navClass:"",disableBody:!0,closeOnClick:!0,customToggle:null,bodyInsert:"prepend",removeOriginalNav:!1,rtl:!1,insertClose:!0,insertBack:!0,levelTitleAsBack:!0,labelClose:"Close",labelBack:"Back"},n),U=[],z="nav-open",K=function(n){if(!U.length)return!1;var e=!1;"string"==typeof n&&(n=[n]);for(var a=n.length,t=0;t<a;t++)-1!==U.indexOf(n[t])&&(e=!0);return e};return this.each(function(){var e=V(this);if(e.find("ul").addBack("ul").length){var n,o,i,c,t,l,y="hc-nav-".concat(++cn),r=(n="hc-offcanvas-".concat(cn,"-style"),o=V('<style id="'.concat(n,'">')).appendTo(V("head")),i={},c={},t=function(n){return";"!==n.substr(-1)&&(n+=";"!==n.substr(-1)?";":""),n},{reset:function(){i={},c={}},add:function(n,e,a){n=n.trim(),e=e.trim(),a?(a=a.trim(),c[a]=c[a]||{},c[a][n]=t(e)):i[n]=t(e)},remove:function(n,e){n=n.trim(),e?(e=e.trim(),void 0!==c[e][n]&&delete c[e][n]):void 0!==i[n]&&delete i[n]},insert:function(){var n="";for(var e in c){for(var a in n+="@media screen and (".concat(e,") {\n"),c[e])n+="".concat(a," { ").concat(c[e][a]," }\n");n+="}\n"}for(var t in i)n+="".concat(t," { ").concat(i[t]," }\n");o.html(n)}}),s="keydown.hc-offcanvas-nav";e.addClass("hc-nav ".concat(y));var a,d,p,v=V('<nav role="navigation">').on("click",nn),f=V('<div class="nav-container">').appendTo(v),u=null,h={},m=!1,g=0,b=0,k=0,x=null,C={},O=[],w=!1,T=[];Q.customToggle?l=V(Q.customToggle).addClass("hc-nav-trigger ".concat(y)).on("click",_):(l=V('<a href="#" aria-label="Open Menu" class="hc-nav-trigger '.concat(y,'"><span></span></a>')).on("click",_),e.after(l)),l.attr("role","button").attr("aria-controls",y),l.on("keydown",function(n){"Enter"!==n.key&&13!==n.keyCode||setTimeout(function(){D(0,0)},0)}),R.on("keydown",function(n){if(q()&&("Escape"===n.key||27===n.keyCode)){var e=O.length?f.find(".hc-chk").filter("[value=".concat(O[O.length-1],"]")).data("level"):!!q()&&0;0===e?$():(F(e),D(null,e-1))}});var S=function(){R.off(s),l[0].focus()},B=function(){f.css("transition","none"),b=f.outerWidth(),k=f.outerHeight(),r.add(".hc-offcanvas-nav.".concat(y,".nav-position-left .nav-container"),"transform: translate3d(-".concat(b,"px, 0, 0)")),r.add(".hc-offcanvas-nav.".concat(y,".nav-position-right .nav-container"),"transform: translate3d(".concat(b,"px, 0, 0)")),r.add(".hc-offcanvas-nav.".concat(y,".nav-position-top .nav-container"),"transform: translate3d(0, -".concat(k,"px, 0)")),r.add(".hc-offcanvas-nav.".concat(y,".nav-position-bottom .nav-container"),"transform: translate3d(0, ".concat(k,"px, 0)")),r.insert(),f.css("transition",""),N()},N=function(){var n;a=f.css("transition-property").split(",")[0],n=f.css("transition-duration").split(",")[0],d=parseFloat(n)*(/\ds$/.test(n)?1e3:1),p=f.css("transition-timing-function").split(",")[0],Q.pushContent&&u&&a&&r.add(function n(e){return"string"==typeof e?e:e.attr("id")?"#"+e.attr("id"):e.attr("class")?e.prop("tagName").toLowerCase()+"."+e.attr("class").replace(/\s+/g,"."):n(e.parent())+" "+e.prop("tagName").toLowerCase()}(Q.pushContent),"transition: ".concat(a," ").concat(d,"ms ").concat(p)),r.insert()},A=function(n){var e=l.css("display"),a=!!Q.disableAt&&"max-width: ".concat(Q.disableAt-1,"px");K("disableAt")&&r.reset(),r.add(".hc-offcanvas-nav.".concat(y),"display: block",a),r.add(".hc-nav-trigger.".concat(y),"display: ".concat(e&&"none"!==e?e:"block"),a),r.add(".hc-nav.".concat(y),"display: none",a),r.add(".hc-offcanvas-nav.".concat(y,".nav-levels-overlap.nav-position-left li.level-open > .nav-wrapper"),"transform: translate3d(-".concat(Q.levelSpacing,"px,0,0)"),a),r.add(".hc-offcanvas-nav.".concat(y,".nav-levels-overlap.nav-position-right li.level-open > .nav-wrapper"),"transform: translate3d(".concat(Q.levelSpacing,"px,0,0)"),a),r.add(".hc-offcanvas-nav.".concat(y,".nav-levels-overlap.nav-position-top li.level-open > .nav-wrapper"),"transform: translate3d(0,-".concat(Q.levelSpacing,"px,0)"),a),r.add(".hc-offcanvas-nav.".concat(y,".nav-levels-overlap.nav-position-bottom li.level-open > .nav-wrapper"),"transform: translate3d(0,".concat(Q.levelSpacing,"px,0)"),a),r.insert(),(!n||n&&K("pushContent"))&&("string"==typeof Q.pushContent?(u=V(Q.pushContent)).length||(u=null):u=Q.pushContent instanceof jQuery?Q.pushContent:null),f.css("transition","none");var t=v.hasClass(z),o=["hc-offcanvas-nav",Q.navClass||"",y,Q.navClass||"","nav-levels-"+Q.levelOpen||"none","nav-position-"+Q.position,Q.disableBody?"disable-body":"",X?"is-ios":"",Y?"touch-device":"",t?z:"",Q.rtl?"rtl":""].join(" ");v.off("click").attr("class","").attr("aria-hidden",!0).attr("aria-labelledby",y).addClass(o),Q.disableBody&&v.on("click",$),n?B():setTimeout(B,0)},P=function(){var n;h=function l(n,e){var a=[];return n.each(function(){var n=V(this),c={id:e,classes:n.attr("class")||null,items:[]};n.children("li").each(function(){var n=V(this),e=void 0!==n.data("nav-custom-content"),a=e?n.children():n.children().filter(function(){var n=V(this);return n.is(":not(ul)")&&!n.find("ul").length}).add(n.contents().filter(function(){return 3===this.nodeType&&this.nodeValue.trim()})),t=e?V():n.find("ul"),o=t.first().add(t.first().siblings("ul")),i=null;o.length&&(n.data("hc-uniqid")?i=n.data("hc-uniqid"):(i=Math.random().toString(36).substr(2),n.data("hc-uniqid",i))),c.items.push({id:i,classes:n.attr("class")||null,$content:a,subnav:o.length?l(o,i):[],custom:e})}),a.push(c)}),a}((n=e.find("ul").addBack("ul")).first().add(n.first().siblings("ul")),null)},E=function(n){n&&(f.empty(),C={}),function h(n,e,m,g,a,t){var b=V('<div class="nav-wrapper nav-wrapper-'.concat(m,'" data-level="').concat(m,'" data-index="').concat(a,'">')).appendTo(e).on("click",nn),o=V('<div class="nav-content">').appendTo(b);if(g&&o.prepend("<h2>".concat(g,"</h2>")),V.each(n,function(n,e){var u=V('<ul role="menu" aria-level="'.concat(m+1,'">')).addClass(e.classes).appendTo(o);0===n&&g&&u.attr("aria-label",g),e.id&&u.attr("aria-labelledby","menu-"+e.id),V.each(e.items,function(n,e){var a=e.$content;if(e.custom){var t=V('<li class="custom-content">').addClass(e.classes).append(V('<div class="nav-item nav-item-custom">').append(a.clone(!0,!0)));u.append(t)}else{var o=a.find("a").addBack("a"),i=o.length?o.clone(!1,!0).addClass("nav-item"):V("<".concat(e.subnav.length?'a href="#"':"span",' class="nav-item">')).append(a.clone(!0,!0)).on("click",nn);i.is("a")&&i.attr("tabindex","0").attr("role","menuitem"),o.length&&i.on("click",function(n){n.stopPropagation(),(V._data(o[0],"events")||{}).click&&o[0].click()}),"#"===i.attr("href")&&i.on("click",function(n){n.preventDefault()}),Q.closeOnClick&&(H()?i.filter("a").filter('[data-nav-close!="false"]:not([disabled])').filter(function(){var n=V(this);return!e.subnav.length||n.attr("href")&&"#"!==n.attr("href").charAt(0)}).on("click",$):i.filter("a").filter('[data-nav-close!="false"]:not([disabled])').on("click",$));var c=V("<li>").addClass(e.classes).append(i).appendTo(u);if(i.wrap('<div class="nav-item-wrapper">'),Q.levelSpacing&&("expand"===Q.levelOpen||!1===Q.levelOpen||"none"===Q.levelOpen)){var l=Q.levelSpacing*m;l&&u.css("text-indent","".concat(l,"px"))}if(e.subnav.length){var r=m+1,s=e.id,d="";if(C[r]||(C[r]=0),c.addClass("nav-parent"),H()){var p=function(n){n.on("click",function(){f.prop("checked",!f.prop("checked")).trigger("change")}).on("keydown",function(n){"Enter"!==n.key&&13!==n.keyCode||(w=!0,T.push(V(this)))}).attr("aria-controls","menu-"+s).attr("aria-haspopup","overlap"===Q.levelOpen).attr("aria-expanded",!1)},v=C[r],f=V('<input type="checkbox" id="'.concat(y,"-").concat(r,"-").concat(v,'" class="hc-chk" tabindex="-1">')).attr("data-level",r).attr("data-index",v).val(s).on("click",nn).on("change",j).prependTo(c);-1!==O.indexOf(s)&&(b.addClass("sub-level-open").on("click",function(){return F(r,v)}),c.addClass("level-open"),f.prop("checked",!0)),d=!0===Q.levelTitles?a.text().trim():"",i.attr("href")&&"#"!==i.attr("href")?p(V('<a href="#" class="nav-next" aria-label="'.concat(d,' Submenu" role="menuitem" tabindex="0">')).on("click",nn).insertAfter(i)):(V('<span class="nav-next">').appendTo(i),p(i))}else i.attr("aria-expanded",!0);C[r]++,h(e.subnav,c,r,d,C[r]-1,g)}}})}),m&&void 0!==a&&!1!==Q.insertBack&&"overlap"===Q.levelOpen){var i=o.children("ul"),c=Q.levelTitleAsBack&&t||Q.labelBack||"",l=V('<li class="nav-back"><a href="#" role="menuitem" tabindex="0">'.concat(c,"<span></span></a></li>"));l.children("a").on("click",en(function(){return F(m,a)})).on("keydown",function(n){"Enter"!==n.key&&13!==n.keyCode||(w=!0)}).wrap('<div class="nav-item-wrapper">'),!0===Q.insertBack?i.first().prepend(l):Z(Q.insertBack)&&an(l,Q.insertBack,i)}if(0===m&&!1!==Q.insertClose){var r=o.children("ul"),s=V('<li class="nav-close"><a href="#" role="menuitem" tabindex="0">'.concat(Q.labelClose||"","<span></span></a></li>"));s.children("a").on("click",en($)).wrap('<div class="nav-item-wrapper">'),!0===Q.insertClose?r.first().prepend(s):Z(Q.insertClose)&&an(s,Q.insertClose,r.first().add(r.first().siblings("ul")))}}(h,f,0,Q.navTitle)};A(),P(),E(),!0===Q.removeOriginalNav&&e.remove(),"prepend"===Q.bodyInsert?L.prepend(v):"append"===Q.bodyInsert&&L.append(v),!0===Q.expanded&&W(!0);var M=function(n,e,a){var t=V("#".concat(y,"-").concat(n,"-").concat(e)),o=t.val(),i=t.parent("li"),c=i.closest(".nav-wrapper");if(t.prop("checked",!1),c.removeClass("sub-level-open"),i.removeClass("level-open"),i.children(".nav-item-wrapper").children("[aria-controls]").attr("aria-expanded",!1),-1!==O.indexOf(o)&&O.splice(O.indexOf(o),1),a&&"overlap"===Q.levelOpen&&(c.off("click").on("click",nn),on(f,(n-1)*Q.levelSpacing,Q.position),u)){var l="x"===tn(Q.position)?b:k;on(u,l+(n-1)*Q.levelSpacing,Q.position)}};I.settings=function(n){return n?Q[n]:Object.assign({},Q)},I.isOpen=q,I.open=W,I.close=$,I.update=function(n,e){if(U=[],"object"===_typeof(n)){for(var a in n)Q[a]!==n[a]&&U.push(a);Q=V.extend({},Q,n)}if(!0===n||!0===e){if(Q.removeOriginalNav)return void console.warn("%c! HC Offcanvas Nav:%c Can't update because original navigation has been removed. Disable `removeOriginalNav` option.","color: #fa253b","color: default");A(!0),P(),E(!0)}else A(!0),E(!0)}}else console.error("%c! HC Offcanvas Nav:%c Menu must contain <ul> element.","color: #fa253b","color: default");function D(n,e,a){if("number"==typeof e&&("number"==typeof n||T.length)){var t='[tabindex=0], a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select',o=f.find(".nav-wrapper").filter("[data-level=".concat(e,"]")).filter(function(){return"number"!=typeof a||V(this).is("[data-index=".concat(a,"]"))}).children(".nav-content").children("ul").children("li").children(":not(.nav-wrapper)").find(t).addBack(t).filter(":not([tabindex=-1])");if(o.length){console.log(o,e,a);var i=o.first(),c=o.last();"number"==typeof n?o.eq(n).focus():(T[T.length-1].focus(),T.pop()),R.off(s),R.on(s,function(n){("Tab"===n.key||9===n.keyCode)&&(n.shiftKey?G.activeElement===i[0]&&(n.preventDefault(),c.focus()):G.activeElement===c[0]&&(n.preventDefault(),i.focus()))})}}}function j(){var n=V(this),e=Number(n.attr("data-level")),a=Number(n.attr("data-index"));n.prop("checked")?function(n,e){var a=V("#".concat(y,"-").concat(n,"-").concat(e)),t=a.val(),o=a.parent("li"),i=o.closest(".nav-wrapper");if(i.addClass("sub-level-open"),o.addClass("level-open"),o.children(".nav-item-wrapper").children("[aria-controls]").attr("aria-expanded",!0),-1===O.indexOf(t)&&O.push(t),"overlap"===Q.levelOpen&&(i.on("click",function(){return F(n,e)}),on(f,n*Q.levelSpacing,Q.position),u)){var c="x"===tn(Q.position)?b:k;on(u,c+n*Q.levelSpacing,Q.position)}w&&(D(0,n,e),w=!1)}(e,a):F(e,a)}function H(){return!1!==Q.levelOpen&&"none"!==Q.levelOpen}function q(){return v.hasClass(z)}function W(n){if(m=!0,v.css("visibility","visible").attr("aria-hidden",!1).addClass(z),l.addClass("toggle-open"),"expand"===Q.levelOpen&&x&&clearTimeout(x),Q.disableBody&&(g=J.scrollTop()||L.scrollTop(),G.documentElement.scrollHeight>G.documentElement.clientHeight&&J.addClass("hc-nav-yscroll"),L.addClass("hc-nav-open"),g&&L.css("top",-g)),u){var e="x"===tn(Q.position)?b:k;on(u,e,Q.position)}n||setTimeout(function(){I.trigger("open",V.extend({},Q))},d)}function $(){m=!1,u&&on(u,0),v.removeClass(z).attr("aria-hidden",!0),f.removeAttr("style"),l.removeClass("toggle-open"),"expand"===Q.levelOpen&&-1!==["top","bottom"].indexOf(Q.position)?F(0):H()&&(x=setTimeout(function(){F(0)},"expand"===Q.levelOpen?d:0)),Q.disableBody&&(L.removeClass("hc-nav-open"),J.removeClass("hc-nav-yscroll"),g&&(L.css("top","").scrollTop(g),J.scrollTop(g),g=0)),S(),setTimeout(function(){v.css("visibility",""),I.trigger("close.$",V.extend({},Q)),I.trigger("close.once",V.extend({},Q)).off("close.once")},d)}function _(n){n.preventDefault(),n.stopPropagation(),m?$():W()}function F(n,e){for(var a=n;a<=Object.keys(C).length;a++)if(a==n&&void 0!==e)M(n,e,!0);else for(var t=0;t<C[a];t++)M(a,t,a==n);w&&(D(null,n-1),w=!1)}})}})}(jQuery,"undefined"!=typeof window?window:this);