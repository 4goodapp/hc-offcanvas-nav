// jQuery HC-MobileNav
// =============
// Version: 1.1
// Copyright: Some Web Media
// Author: Some Web Guy
// Author URL: http://twitter.com/some_web_guy
// Website: http://someweblog.com/
// License: Released under the MIT License www.opensource.org/licenses/mit-license.php

(function(c,f,a){c(f);var e=f.document,l=c(e);f=e.getElementsByTagName("html")[0];var k=c(f),h=c(e.body),m=function(){var c=(e.body||e.documentElement).style;return c.transition!==a||c.WebkitTransition!==a||c.MozTransition!==a||c.MsTransition!==a||c.OTransition!==a}();c.fn.extend({hcMobileNav:function(a){if(0==this.length)return this;this.data("mobileNav")||this.data("mobileNav",{});this.each(function(){var d=c(this);d.data("mobileNav").settings?d.data("mobileNav",c.extend(d.data("mobileNav"),{settings:c.extend(d.data("mobileNav").settings,
a||{})})):d.data("mobileNav",{settings:c.extend({close:"Close",back:"Back"},a||{})})});return this.each(function(){var d=c(this),a=d.data("mobileNav").settings;d.after('<a id="menu-trigger">');var b=d.clone().click(function(b){b.stopPropagation()});b.removeAttr("id").addClass("mobile-nav").find("*").removeAttr("id");b.find("ul").wrap('<div class="menu-wrap"></div>');m||b.addClass("no-transition");c('<span class="next">').click(function(g){g.stopPropagation();g.preventDefault();var a=c(this);g=a.parents("li").length;
a=a.closest("li").addClass("open").closest(".menu-wrap");1===g&&0===a.length?b.addClass("submenu-open"):a.addClass("submenu-open");f(40*g);return!1}).appendTo(b.find("li.parent").children("a"));var e=b.find("ul");b.is("ul")?(e.prepend('<li class="menu-item back"><a href="#">'+a.back+"<span /></a></li>"),b.prepend('<li class="menu-item close"><a href="#">'+a.close+"<span /></a></li>")):(e.not(":first").prepend('<li class="menu-item back"><a href="#">'+a.back+"<span /></a></li>"),e.first().prepend('<li class="menu-item close"><a href="#">'+
a.close+"<span /></a></li>"));b.find("li.close").first().children("a").click(function(a){a.preventDefault();k.removeClass("noscroll");h.removeClass("open-menu");b.removeAttr("style")});var f=function(a){m?(b[0].style.WebkitTransform="translate3d("+a+"px,0,0)",b[0].style.MozTransform="translate3d("+a+"px,0,0)",b[0].style.transform="translate3d("+a+"px,0,0)"):b.css({left:a})},a=function(){k.removeClass("noscroll");h.removeClass("open-menu");b.find("li.open").removeClass("open");b.find(".submenu-open").removeClass("submenu-open");
b.is("ul")&&b.removeClass("submenu-open");b.removeAttr("style")};b.find("li.back").children("a").click(function(a){a.preventDefault();a=c(this);a.closest("li.open").removeClass("open");a.closest(".submenu-open").removeClass("submenu-open");a=c(this).parents("li").length-2;f(40*a)});h.prepend(b);l.on("click","body.open-menu",a);b.find('li:not(".close"):not(".back")').children("a").click(a);l.on("click","#menu-trigger",function(){k.addClass("noscroll");h.addClass("open-menu")});d.addClass("hc-menu")})}})})(jQuery,
this);