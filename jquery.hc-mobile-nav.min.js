// jQuery HC-MobileNav
// =============
// Version: 1.1
// Copyright: Some Web Media
// Author: Some Web Guy
// Author URL: http://twitter.com/some_web_guy
// Website: http://someweblog.com/
// License: Released under the MIT License www.opensource.org/licenses/mit-license.php

(function(a,f,b){a(f);var e=f.document,h=a(e),k=function(){var a=(e.body||e.documentElement).style;return a.transition!==b||a.WebkitTransition!==b||a.MozTransition!==b||a.MsTransition!==b||a.OTransition!==b}();a.fn.extend({hcMobileNav:function(b){if(0==this.length)return this;this.data("mobileNav")||this.data("mobileNav",{});this.each(function(){var d=a(this);d.data("mobileNav").settings?d.data("mobileNav",a.extend(d.data("mobileNav"),{settings:a.extend(d.data("mobileNav").settings,b||{})})):d.data("mobileNav",
{settings:a.extend({close:"Close",back:"Back"},b||{})})});return this.each(function(){var d=a(this),b=d.data("mobileNav").settings;d.after('<a id="menu-trigger">');var c=d.clone().click(function(a){a.stopPropagation()});c.removeAttr("id").addClass("mobile-nav").find("*").removeAttr("id");c.find("ul").wrap('<div class="menu-wrap"></div>');k||c.addClass("no-transition");a('<span class="next">').click(function(g){g.stopPropagation();g.preventDefault();var b=a(this);g=b.parents("li").length;b=b.closest("li").addClass("open").closest(".menu-wrap");
1===g&&0===b.length?c.addClass("submenu-open"):b.addClass("submenu-open");f(40*g);return!1}).appendTo(c.find("li.parent").children("a"));var e=c.find("ul");c.is("ul")?(e.prepend('<li class="menu-item back"><a href="#">'+b.back+"<span /></a></li>"),c.prepend('<li class="menu-item close"><a href="#">'+b.close+"<span /></a></li>")):(e.not(":first").prepend('<li class="menu-item back"><a href="#">'+b.back+"<span /></a></li>"),e.first().prepend('<li class="menu-item close"><a href="#">'+b.close+"<span /></a></li>"));
c.find("li.close").first().children("a").click(function(b){b.preventDefault();a("body").removeClass("open-menu");c.removeAttr("style")});var f=function(a){k?(c[0].style.WebkitTransform="translate3d("+a+"px,0,0)",c[0].style.MozTransform="translate3d("+a+"px,0,0)",c[0].style.transform="translate3d("+a+"px,0,0)"):c.css({left:a})},b=function(){a("html").removeClass("noscroll");a("body").removeClass("open-menu");c.find("li.open").removeClass("open");c.find(".submenu-open").removeClass("submenu-open");
c.is("ul")&&c.removeClass("submenu-open");c.removeAttr("style")};c.find("li.back").children("a").click(function(b){b.preventDefault();b=a(this);b.closest("li.open").removeClass("open");b.closest(".submenu-open").removeClass("submenu-open");b=a(this).parents("li").length-2;f(40*b)});a("body").prepend(c);h.on("click","body.open-menu",b);c.find('li:not(".close"):not(".back")').children("a").click(b);h.on("click","#menu-trigger",function(){a("html").addClass("noscroll");a("body").addClass("open-menu")});
d.addClass("hc-menu")})}})})(jQuery,this);