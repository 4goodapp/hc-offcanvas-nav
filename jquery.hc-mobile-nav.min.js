// jQuery HC-MobileNav
// =============
// Version: 1.2.3
// Copyright: Some Web Media
// Author: Some Web Guy
// Author URL: http://twitter.com/some_web_guy
// Website: http://someweblog.com/
// License: Released under the MIT License www.opensource.org/licenses/mit-license.php

(function(a,f,c){a(f);var e=f.document,l=a(e),m=function(){var a=(e.body||e.documentElement).style;return a.transition!==c||a.WebkitTransition!==c||a.MozTransition!==c||a.MsTransition!==c||a.OTransition!==c}();a.fn.extend({printStyle:function(e,c,k){var g=a(this),b=g.find("style#"+c);0<b.length?b.html(e):k?a('<style id="'+c+'">'+e+"</style>").prependTo(g):a('<style id="'+c+'">'+e+"</style>").appendTo(g)}});a.fn.extend({hcMobileNav:function(c){if(0==this.length)return this;var f=e.getElementsByTagName("html")[0],
k=a(f),g=a(e.body);this.data("mobileNav")||this.data("mobileNav",{});this.each(function(){var b=a(this);b.data("mobileNav").settings?b.data("mobileNav",a.extend(b.data("mobileNav"),{settings:a.extend(b.data("mobileNav").settings,c||{})})):b.data("mobileNav",{settings:a.extend({maxWidth:980,labels:{close:"Close",back:"Back"}},c||{})})});return this.each(function(){var b=a(this),c=b.data("mobileNav").settings,d;b.after('<a id="menu-trigger">');d=b.is("ul")?b.clone().click(function(a){a.stopPropagation()}).wrap("<nav></nav>").parent():
b.clone().click(function(a){a.stopPropagation()});d.removeAttr("id").addClass("mobile-nav").find("*").removeAttr("id");d.find("ul").wrap('<div class="menu-wrap"></div>');m||d.addClass("no-transition");a('<span class="next">').click(function(b){b.stopPropagation();b.preventDefault();var c=a(this);b=c.parents("li").length;c=c.closest("li").addClass("open").closest(".menu-wrap");1===b&&0===c.length?d.addClass("submenu-open"):c.addClass("submenu-open");f(40*b);return!1}).appendTo(d.find("li").filter(function(){return 0<
a(this).find("ul").length}).addClass("parent").children("a"));var h=d.find("ul");h.not(":first").prepend('<li class="menu-item back"><a href="#">'+c.labels.back+"<span /></a></li>");h.first().prepend('<li class="menu-item close"><a href="#">'+c.labels.close+"<span /></a></li>");var f=function(a){m?(d[0].style.WebkitTransform="translate3d("+a+"px,0,0)",d[0].style.MozTransform="translate3d("+a+"px,0,0)",d[0].style.MsTransform="translate3d("+a+"px,0,0)",d[0].style.OTransform="translate3d("+a+"px,0,0)",
d[0].style.transform="translate3d("+a+"px,0,0)"):d.css({left:a})},h=function(a){k.removeClass("yscroll");g.removeClass("open-menu notouchmove");d.find("li.open").removeClass("open");d.find(".submenu-open").removeClass("submenu-open");d.removeAttr("style")};d.find("li.back").children("a").click(function(b){b.preventDefault();b=a(this);b.closest("li.open").removeClass("open");b.closest(".submenu-open").removeClass("submenu-open");b=a(this).parents("li").length-2;f(40*b)});g.prepend(d);l.on("click",
"body.open-menu",h);d.find("li.close").first().children("a").click(h);d.find('li:not(".close"):not(".back")').children("a").click(h);l.on("click","#menu-trigger",function(){e.body.scrollHeight>e.body.offsetHeight&&k.addClass("yscroll");g.addClass("open-menu notouchmove")});b.addClass("hc-menu");b="@media screen and (max-width:"+c.maxWidth+"px) {";b+="#menu-trigger, .mobile-nav, body:after { display: block; }.hc-menu { display: none; }";b+="}";a("head").printStyle(b,"hcMobileNav")})}})})(jQuery,this);