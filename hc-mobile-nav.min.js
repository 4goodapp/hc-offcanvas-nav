// jQuery HC-MobileNav
// =============
// Version: 2.0.0
// Author: Some Web Media
// Author URL: http://somewebmedia.com
// Plugin URL: https://github.com/somewebmedia/hc-mobile-nav
// Description: jQuery plugin for converting menus to mobile navigations
// License: MIT

!function(e,n,t){"use strict";var a=n.document,s=function(){var e=(a.body||a.documentElement).style;return void 0!==e.transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition}(),o=function(){return a.body.scrollHeight>a.body.offsetHeight},i=function(e,n){s?(e[0].style.WebkitTransform="translate3d("+n+"px,0,0)",e[0].style.MozTransform="translate3d("+n+"px,0,0)",e[0].style.MsTransform="translate3d("+n+"px,0,0)",e[0].style.OTransform="translate3d("+n+"px,0,0)",e[0].style.transform="translate3d("+n+"px,0,0)"):e.css({left:n})};e.fn.extend({hcPrintStyle:function(n,t,a){var s=e(this),o=s.find("style#"+t);o.length?o.html(n):a?e('<style id="'+t+'">'+n+"</style>").prependTo(s):e('<style id="'+t+'">'+n+"</style>").appendTo(s)}}),e.fn.extend({hcMobileNav:function(n){if(!this.length)return this;var t=e(a.getElementsByTagName("html")[0]),l=e(a),r=e(a.body);return this.each(function(){var a,d=e(this),c=d.data("hc-mobile-nav")||{},u=!1;if(e.isEmptyObject(c)?e.extend(c,{maxWidth:1024,labels:{close:"Close",back:"Back"}},n||{}):e.extend(c,n||{}),d.data("hc-mobile-nav",c),d.is("ul")){var p=d.clone();a=p.wrap("<nav></nav>").parent()}else{if(!d.is("nav"))return void console.error("HC-MobileNav: Menu element must be <ul> or <nav>");a=d.clone()}var m=e('<a id="menu-trigger">'),v=a.find("ul");a.on("click touchend",function(e){e.stopPropagation()}).removeAttr("id").removeClass().addClass("hc-mobile-nav").find("[id]").removeAttr("id"),a.find("ul").wrap('<div class="menu-wrap"></div>'),s||a.addClass("no-transition");e('<span class="next">').click(function(n){n.stopPropagation(),n.preventDefault();var t=e(this),s=t.parents("li").length,o=t.closest("li").addClass("open").closest(".menu-wrap");return 1!==s||o.length?o.addClass("submenu-open"):a.addClass("submenu-open"),i(a,40*s),!1}).appendTo(a.find("li").filter(function(){return e(this).find("ul").length>0}).addClass("parent").children("a")),v.not(":first").prepend('<li class="menu-item back"><a href="#">'+c.labels.back+"<span></span></a></li>"),v.first().prepend('<li class="menu-item close"><a href="#">'+c.labels.close+"<span></span></a></li>");var f=function(){u=!1,t.removeClass("yscroll"),r.removeClass("open-menu notouchmove"),a.find("li.open").removeClass("open"),a.find(".submenu-open").removeClass("submenu-open"),a.removeAttr("style")};r.prepend(a),l.on("click touchend","body.open-menu",f),d.after(m),a.find("li.back").children("a").click(function(n){var t=e(this),s=e(this).parents("li").length-2;n.preventDefault(),t.closest("li.open").removeClass("open"),t.closest(".submenu-open").removeClass("submenu-open"),i(a,40*s)}),a.find('li:not(".back")').children("a").click(f),m.on("click",function(e){e.preventDefault(),e.stopPropagation(),u=!0,o()&&t.addClass("yscroll"),r.addClass("open-menu notouchmove")}),d.addClass("hc-nav");var h="@media screen and (max-width:"+(c.maxWidth-1)+"px) { #menu-trigger, .hc-mobile-nav, body:after { display: block; }.hc-nav { display: none; }}";e("head").hcPrintStyle(h,"hc-mobile-nav-style")})}})}(jQuery,this);
