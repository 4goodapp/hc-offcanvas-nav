// jQuery HC-MobileNav
// =============
// Version: 2.0.2
// Author: Some Web Media
// Author URL: http://somewebmedia.com
// Plugin URL: https://github.com/somewebmedia/hc-mobile-nav
// Description: jQuery plugin for converting menus to mobile navigations
// License: MIT

!function(e,n,t){"use strict";var s=n.document,a=function(){var e=(s.body||s.documentElement).style;return void 0!==e.transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition}(),o=function(){return s.body.scrollHeight>s.body.offsetHeight},l=function(e,n){a?(e[0].style.WebkitTransform="translate3d("+n+"px,0,0)",e[0].style.MozTransform="translate3d("+n+"px,0,0)",e[0].style.MsTransform="translate3d("+n+"px,0,0)",e[0].style.OTransform="translate3d("+n+"px,0,0)",e[0].style.transform="translate3d("+n+"px,0,0)"):e.css({left:n})};e.fn.extend({hcPrintStyle:function(n,t,s){var a=e(this),o=a.find("style#"+t);o.length?o.html(n):s?e('<style id="'+t+'">'+n+"</style>").prependTo(a):e('<style id="'+t+'">'+n+"</style>").appendTo(a)}}),e.fn.extend({hcMobileNav:function(n){if(!this.length)return this;var t=e(s.getElementsByTagName("html")[0]),i=e(s),r=e(s.body);return this.each(function(){var s,c=e(this),d=c.data("hc-mobile-nav")||{},p=!1,u=0;if(e.isEmptyObject(d)?e.extend(d,{maxWidth:1024,labels:{close:"Close",back:"Back"}},n||{}):e.extend(d,n||{}),c.data("hc-mobile-nav",d),c.is("ul")){var v=c.clone();s=v.wrap("<nav></nav>").parent()}else{if(!c.is("nav"))return void console.error("HC-MobileNav: Menu element must be <ul> or <nav>");s=c.clone()}var m=e('<a id="menu-trigger">'),f=s.find("ul");s.on("click touchstart",function(e){e.stopPropagation()}).removeAttr("id").removeClass().addClass("hc-mobile-nav").find("[id]").removeAttr("id"),s.find("ul").wrap('<div class="menu-wrap"></div>'),a||s.addClass("no-transition");var h=function(e){e.preventDefault(),p=!1,t.removeClass("yscroll"),r.removeClass("hc-nav-open notouchmove"),s.find("li.open").removeClass("open"),s.find(".submenu-open").removeClass("submenu-open"),s.removeAttr("style"),u&&(r.css("top","").scrollTop(u),t.scrollTop(u),u=0)};e('<span class="next">').click(function(n){n.stopPropagation(),n.preventDefault();var t=e(this),a=t.parents("li").length,o=t.closest("li").addClass("open").closest(".menu-wrap");return 1!==a||o.length?o.addClass("submenu-open"):s.addClass("submenu-open"),l(s,40*a),!1}).appendTo(s.find("li").filter(function(){return e(this).find("ul").length>0}).addClass("parent").children("a")),f.not(":first").prepend('<li class="menu-item back"><a href="#">'+d.labels.back+"<span></span></a></li>"),f.first().prepend('<li class="menu-item close"><a href="#">'+d.labels.close+"<span></span></a></li>"),r.prepend(s),c.addClass("hc-nav").after(m),m.on("click",function(e){e.preventDefault(),e.stopPropagation(),u=t.scrollTop()||r.scrollTop(),p=!0,r.addClass("hc-nav-open notouchmove"),o()&&t.addClass("yscroll"),u&&r.css("top",-u)}),i.on("click touchstart","body.hc-nav-open",h),s.find("li.back").children("a").click(function(n){var t=e(this),a=t.parents("li").length-2;n.preventDefault(),t.closest("li.open").removeClass("open"),t.closest(".submenu-open").removeClass("submenu-open"),l(s,40*a)}),s.find('li:not(".back")').children("a").click(h);var b="@media screen and (max-width:"+(d.maxWidth-1)+"px) { #menu-trigger, .hc-mobile-nav, body:after { display: block; }.hc-nav { display: none; }}";e("head").hcPrintStyle(b,"hc-mobile-nav-style")})}})}(jQuery,this);
