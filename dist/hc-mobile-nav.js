/*!
 * jQuery HC-MobileNav
 * ===================
 * Version: 2.0.4
 * Author: Some Web Media
 * Author URL: http://somewebmedia.com
 * Plugin URL: https://github.com/somewebmedia/hc-mobile-nav
 * Description: jQuery plugin for converting menus to mobile navigations
 * License: MIT
 */
!function(w,T){"use strict";var t,x=T.document,B=(t=w("head"),function(e,n,l){var a=t.find("style#"+n);a.length?a.html(e):l?w('<style id="'+n+'">'+e+"</style>").prependTo(t):w('<style id="'+n+'">'+e+"</style>").appendTo(t)}),M=0;w.fn.extend({hcMobileNav:function(e){if(!this.length)return this;var a,g=w.extend({},{maxWidth:1024,transition:!0,transitionSide:"left",disableBody:!0,customClass:"",levelSpacing:40,labels:{close:"Close",back:"Back"}},e),y=w(x.getElementsByTagName("html")[0]),C=(w(x),w(x.body)),k=(a=function(e){var n=["Webkit","Moz","Ms","O"],l=(x.body||x.documentElement).style,a=e.charAt(0).toUpperCase()+e.slice(1);if(void 0!==l[e])return e;for(var t=0;t<n.length;t++)if(void 0!==l[n[t]+a])return n[t]+a;return!1}("transform"),function(e,n){if(a&&g.transition){var l="left"===g.transitionSide?n:-n;e[0].style[a]="translate3d("+l+"px,0,0)"}});return this.each(function(){var e=w(this),l=void 0,a=!1,t=0;if(e.is("ul"))l=e.clone().wrap("<nav></nav>").parent();else if(e.is("nav"))l=e.clone();else if(!(l=e.find("nav, ul").first().clone()).length)return void console.log("%c! HC MobileNav:%c There is no <nav> or <ul> elements in your menu.","color: red","color: black");var n=l.find("ul");if(n.length){M++;var o=n.find("li"),i={},s="hc-nav-"+M;l.on("click touchstart",function(e){e.stopPropagation()}).removeAttr("id").removeClass().addClass("hc-mobile-nav "+s+" "+g.customClass).find("[id]").removeAttr("id"),g.transition&&l.addClass("transform-"+g.transitionSide),n.each(function(){var e=w(this),n=e.parents("li").length;i[n]?i[n]=i[n].add(e):i[n]=e});var r=function(e){var s=Number(e);0===s?i[s].wrapAll('<div class="menu-wrap"></div>'):i[s].wrap('<div class="menu-wrap"></div>'),i[s].each(function(e){var n=w(this),l=0!==s?e:0;n.parent().attr("data-level",s).attr("data-index",l);var a,t,o=n.children("li").filter(function(){return w(this).find("ul").length});w('<span class="next">').click((a=s,t=l,function(e){e.stopPropagation(),e.preventDefault();var n=w(this),l=d.filter("[data-level="+a+"][data-index="+t+"]");return n.closest("li").addClass("level-open"),l.addClass("sub-level-open").on("click",b(a,t)),k(v,(a+1)*g.levelSpacing),!1})).appendTo(o.addClass("has-subnav").children("a")),0!==s&&w('<li class="menu-item back"><a href="#">'+g.labels.back+"<span></span></a></li>").prependTo(n).children("a").click(b(s-1,l))})};for(var c in i)r(c);var d=l.find(".menu-wrap").on("click",function(e){return e.stopPropagation()}),v=d.first(),p=w('<a class="hc-menu-trigger '+s+'"><span></span></a>').on("click",function(e){a?m()(e):h(e)});if(w('<li class="menu-item close"><a href="#">'+g.labels.close+"<span></span></a></li>").prependTo(i[0].first()).children("a").click(m(!0)),o.children("a").click(m()),g.disableBody){var u="ontouchstart"in T?"touchstart":"click";l.on(u,m())}C.prepend(l),e.addClass("hc-nav "+s).after(p);var f="@media screen and (max-width: "+(g.maxWidth-1)+"px) {\n          .hc-menu-trigger."+s+",\n          .hc-mobile-nav."+s+" {\n            display: block;\n          }\n          .hc-nav."+s+" {\n            display: none;\n          }\n        }";B(f,"hc-mobile-nav-style")}else console.log("%c! HC MobileNav:%c Menu must contain <ul> element.","color: red","color: black");function h(e){e.preventDefault(),e.stopPropagation(),a=!0,t=y.scrollTop()||C.scrollTop(),l.addClass("nav-open"),g.disableBody&&(C.addClass("hc-nav-open"),x.body.scrollHeight>x.body.offsetHeight&&y.addClass("hc-yscroll")),t&&C.css("top",-t)}function m(n){return function(e){e.stopPropagation(),!0===n&&e.preventDefault(),a=!1,y.removeClass("hc-yscroll"),l.removeClass("nav-open"),v.removeAttr("style"),o.filter(".level-open").removeClass("level-open"),l.find(".sub-level-open").removeClass("sub-level-open"),g.disableBody&&C.removeClass("hc-nav-open"),t&&(C.css("top","").scrollTop(t),y.scrollTop(t),t=0)}}function b(l,e){return function(e){e.stopPropagation(),e.preventDefault();var n=d.filter("[data-level="+l+"]");n.off("click").removeClass("sub-level-open"),n.find(".level-open").removeClass("level-open"),n.find(".sub-level-open").removeClass("sub-level-open"),k(v,l*g.levelSpacing)}}})}})}(jQuery,"undefined"!=typeof window?window:this);